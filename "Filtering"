

#Here we will import into nornir the power filtering method "F", in order to filter our output.


#Filtering hosts per GROUP NAME
from nornir.core.filter import F  #This command tells python to import the powerful Filter calls into Nornir
anyvarname = nr.filter(F(groups__contains="UK_Routers")) # Here we create a variable which will filter all hosts that belongs to the group UK_Routers
UK_Routers.inventory.hosts  #this command print all devices on the UK_Routes group


#Filtering hosts per NAME
filterips = nr.filter(F(name__contains="R1"))   #This will filter all hosts names that has "R1" on their names


#Filtering hosts per IP/Subnet
filterips = nr.filter(F(hostname__contains="192.168.10."))  #this command will filter all hosts that begins with the ip "192.168.0."


#Filtering hosts per Tag variables
c9200 = nr.filter(F(tag__contains="c9200"))


#Mixing and filtering 2 criterias (TAGS and GROUP NAME) the below command will filter all hosts that are part of the UK_Routers group that are c9200 Series
groupname_c9200 = nr.filter(F(groups__contains="UK_Routers")) & F(tag__contains="c9200")) 
result = groupname_c9200.run netmiko_send_command, command_string="show arp"  #result variable will filter the aforedmentioned devices and will run the "show arp" command on all of them
print_result(result) #This command prints the output of our python script
